define(["jquery","backbone","text!../templates/character-list-item.html"],function(t,e,i){var l=e.View.extend({initialize:function(){_.bindAll(this,"render","clicked");var t=_.debounce(this.render,150);this.listenTo(this.collection,"add",t),this.listenTo(this.collection,"remove",t),this.listenTo(this.collection,"reset",this.render),this.click_url="#"},register:function(t){var e=this;return e.click_url=t,e.render()},events:{"click .character-list-item":"clicked"},clicked:function(e){var i=this;e.preventDefault(),t.mobile.loading("show");var l=t(e.currentTarget),c=l.attr("backendId"),r=_.template(i.click_url)({character_id:c});window.location.hash=r},render:function(){return this.template=_.template(i)({collection:this.collection,click_url:this.click_url}),this.$el.find("ul[data-role='listview']").html(this.template),this}});return l});