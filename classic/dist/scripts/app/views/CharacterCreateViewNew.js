define(["jquery","backbone","text!../templates/character-create-view.html","text!../templates/werewolf-create-view.html","marionette","text!../templates/create/parent.html","../helpers/VampirePrintHelper","text!../templates/create/description.html","text!../templates/create/simpletexts.html","text!../templates/create/attributes.html","text!../templates/create/focuses.html","text!../templates/create/skills.html","text!../templates/create/backgrounds.html","text!../templates/create/arts.html","text!../templates/create/disciplines.html","text!../templates/create/gifts.html","text!../templates/create/merits.html","text!../templates/create/flaws.html","text!../templates/create/complete.html"],function(e,t,n,i,r,a,o,l,c,s,d,m,h,p,g,u,x,f,v){var w=r.ItemView.extend({template:_.template(l),templateHelpers:function(){var e=this;return{creation:e.model.get("creation"),character:e.model}},initialize:function(e){var t=this;t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","template")}});_.extend(w.prototype,o);var y=r.ItemView.extend({template:_.template(c),templateHelpers:function(){var e=this;return{creation:e.model.get("creation"),character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;_.each(t.model.all_text_attributes(),function(e){t.listenTo(t.model,"change:"+e,t.render)}),_.bindAll(this,"render","template","onRender")}});_.extend(y.prototype,o);var T=r.ItemView.extend({template:_.template(s),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model,"change:attributes",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(T.prototype,o);var b=r.ItemView.extend({template:_.template(d),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model,"change:focus_physicals",t.render),t.listenTo(t.model,"change:focus_mentals",t.render),t.listenTo(t.model,"change:focus_socials",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(b.prototype,o);var V=r.ItemView.extend({template:_.template(m),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model,"change:skills",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(V.prototype,o);var C=r.ItemView.extend({template:_.template(h),templateHelpers:function(){var e=this,t=e.model.get("creation"),n=e.getDescriptionCategory();return{creation:t,character:e.model,description_category:n}},getDescriptionCategory:function(){return"Werewolf"==this.model.get("type")?"wta_backgrounds":"ChangelingBetaSlice"==this.model.get("type")?"ctdbs_backgrounds":"backgrounds"},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model,"change:"+t.getDescriptionCategory(),t.render),_.bindAll(this,"render","getTemplate","onRender","getDescriptionCategory")}});_.extend(C.prototype,o);var R=r.ItemView.extend({template:_.template(p),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model.get("creation"),"saved",t.render),t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(R.prototype,o);var W=r.ItemView.extend({template:_.template(g),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model.get("creation"),"saved",t.render),t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(W.prototype,o);var z=r.ItemView.extend({template:_.template(u),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model.get("creation"),"saved",t.render),t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(z.prototype,o);var A=r.ItemView.extend({template:_.template(x),templateHelpers:function(){var e=this,t=e.model.get("creation"),n=e.getDescriptionCategory();return{creation:t,character:e.model,description_category:n}},getDescriptionCategory:function(){return"Werewolf"==this.model.get("type")?"wta_merits":"ChangelingBetaSlice"==this.model.get("type")?"ctdbs_merits":"merits"},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model.get("creation"),"saved",t.render),t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender","getDescriptionCategory")}});_.extend(A.prototype,o);var H=r.ItemView.extend({template:_.template(f),templateHelpers:function(){var e=this,t=e.model.get("creation"),n=e.getDescriptionCategory();return{creation:t,character:e.model,description_category:n}},getDescriptionCategory:function(){return"Werewolf"==this.model.get("type")?"wta_flaws":"ChangelingBetaSlice"==this.model.get("type")?"ctdbs_flaws":"flaws"},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model.get("creation"),"saved",t.render),t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(H.prototype,o);var I=r.ItemView.extend({template:_.template(v),templateHelpers:function(){var e=this,t=e.model.get("creation");return{creation:t,character:e.model}},onRender:function(){this.$el.enhanceWithin()},initialize:function(e){var t=this;t.listenTo(t.model,"change",t.render),_.bindAll(this,"render","getTemplate","onRender")}});_.extend(I.prototype,o);var $=r.LayoutView.extend({template:_.template(a),regions:{description:"#ccv-description",simpletext:"#ccv-simpletext",nextone:"#ccv-next-one",nexttwo:"#ccv-next-two",nextthree:"#ccv-next-three",nextfour:"#ccv-next-four",nextfive:"#ccv-next-five",nextsix:"#ccv-next-six",nextseven:"#ccv-next-seven",nexteight:"#ccv-next-eight"},setup_regions:function(){var e=this,t=e.options||{},n=e.character;e.showChildView("description",new w({model:n}),t),e.showChildView("simpletext",new y({model:n}),t),e.showChildView("nextone",new T({model:n}),t),e.showChildView("nexttwo",new b({model:n}),t),e.showChildView("nextthree",new V({model:n}),t),e.showChildView("nextfour",new C({model:n}),t);var i;i="Werewolf"==n.get("type")?new z({model:n}):"ChangelingBetaSlice"==n.get("type")?new R({model:n}):new W({model:n}),e.showChildView("nextfive",i,t),e.showChildView("nextsix",new A({model:n}),t),e.showChildView("nextseven",new H({model:n}),t),e.showChildView("nexteight",new I({model:n}),t)},onRender:function(){this.setup_regions(),this.$el.enhanceWithin()},initialize:function(e){_.bindAll(this,"setup_regions","scroll_back_after_page_change")},setup:function(e){var t=this,n=e.character;if(n!=t.character)return t.character=n,t.render(),t},scroll_back_after_page_change:function(){var t=this;e(document).one("pagechange",function(){var n=_.parseInt(t.backToTop);e.mobile.silentScroll(n)})}});return $});