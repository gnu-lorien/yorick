define(["jquery","underscore","parse","../models/Referendum","../models/ReferendumBallot"],function(e,r,n,t,o){var u=n.Collection.extend({model:o,comparator:function(e,n){var t,o;return t=e.get("order"),o=n.get("order"),r.gt(t,o)?1:r.lt(t,o)?-1:0},fetch:function(e){var r=this,t=new n.Query(r.model).equalTo("owner",e);t.include("caster");var o=[];return t.each(function(e){o.push(e)}).then(function(){return r.reset(o),n.Promise.as(r)})}});return u});