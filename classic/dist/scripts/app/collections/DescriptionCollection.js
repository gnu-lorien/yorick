define(["jquery","underscore","parse","../models/Description"],function(e,t,r,n){var a=r.Collection.extend({model:n,comparator:function(e,r){var n,a;return n=e.get("order"),a=r.get("order"),t.gt(n,a)?1:t.lt(n,a)?-1:(n=e.get("name"),a=r.get("name"),t.gt(n,a)?1:t.lt(n,a)?-1:0)},fetch:function(e){var n=this,e=e||{};t.defaults(e,{add:!0,update:!0});var a=n.query;if(e.update&&0!=n.models.length){var d=t.map(n.models,"updatedAt");d=t.sortBy(d),a.greaterThan("updatedAt",t.last(d))}var o=[];return a.each(function(e){o.push(e)}).then(function(){return e.add?t.each(o,function(e){n.add(e)}):n.reset(o),r.Promise.as(n)})},fetch_avoiding_wait:function(e){var t=this,n=t.models.length,a=t.fetch(e);return 0!=n?r.Promise.as():a}});return a});