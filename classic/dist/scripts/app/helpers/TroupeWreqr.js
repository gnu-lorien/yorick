define(["jquery","underscore","parse","backbone","marionette","../collections/Troupes"],function(e,r,t,n,o,i){var u=n.Model.extend({initialize:function(){var e=this;e.channel=n.Wreqr.radio.channel("troupe"),e.troupes=new i,n.Wreqr.radio.reqres.setHandler("troupe","get",function(r){return e.troupes.get(r)}),n.Wreqr.radio.reqres.setHandler("troupe","all",function(){return e.troupes})},get_troupes:function(){var e=this,r=[],n=new t.Query("Troupe");return n.select("id","name","portrait","shortdescription","location","staffemail"),n.include("portrait"),n.each(function(e){r.push(e)}).then(function(){e.troupes.reset(r)})}});return new u});