define(function(){"use strict";var r=function(r,n,e,t){var o,u,i,c,a,s,f,b,p,d,g,l,j,h;return c=Object.prototype.toString,a={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},s=function(r){var n=a[typeof r]||a[c.call(r)]||(r?"object":"null");return n},f=function(r,n){var e,t="";for(e=0;e<n;e+=1)t+=r;return t},p=function(r,n){var e,t=[];n+=o;for(e in r)r.hasOwnProperty(e)&&t.push(n+'"'+e+'": '+j(r[e],n));return t.join(i)+u},d=function(r,n){var e,t=[];n+=o;for(e in r)r.hasOwnProperty(e)&&t.push(n+e+": "+j(r[e],n));return t.join(i)+u},g=function(r,n){var e,t=r.length,c=[];for(n+=o,e=0;e<t;e+=1)c.push(j(r[e],n,n));return c.join(i)+u},l=function(r){var n,e;return r=r.toString(),n=new RegExp("function\\s*.*\\s*\\(.*\\)"),e=n.exec(r),e=e?e[0]:"[object Function]",t?r:'"'+e+'"'},j=function(r,n,e){var t;if(t=s(r),e=e||"",h.indexOf(r)===-1)switch(t){case"array":return h.push(r),e+"["+u+g(r,n)+n+"]";case"boolean":return e+(r?"true":"false");case"date":return e+'"'+r.toString()+'"';case"number":return e+r;case"object":return h.push(r),e+"{"+u+b(r,n)+n+"}";case"string":return e+JSON.stringify(r);case"function":return e+l(r);case"undefined":return e+'"undefined"';default:return r.toString?e+'"'+r.toString()+'"':e+"<<<ERROR>>> Cannot get the string value of the element"}return e+"circular reference to "+r.toString()},r?(void 0===n&&(n=4),e=(e||"print").toLowerCase(),o=f("html"===e?"&nbsp;":" ",n),b="json"===e?p:d,u="html"===e?"<br/>":"\n",i=","+u,h=[],j(r,"")+u):"Error: no Javascript object provided"};return r});